<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>
    Test for Timer
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%- include ../partials/scripts %>
  <%- include ../partials/head %>
</head>
<body>
    <style>
        #overlay {
            position: fixed;
            display: none;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 2;
            cursor: pointer;
        }

        #text {
          text-align: center;
          position: absolute;
          top: 50%;
          left: 50%;
          font-size: 40px;
          color: white;
          transform: translate(-50%,-50%);
          -ms-transform: translate(-50%,-50%);
          line-height: 1.5em;
        }
        
        .timer {
          text-align: left;
          list-style-type: disc;
          list-style-position: inside;
        }

        .timer-ul {
          padding-left: 30px;
        }
          </style>
              </head>
        <body>
        
        <div id="overlay" onclick="off()">
          <div id="text">
            <p>Standup Timer</p>
            <p id="demo"></p>
            <ul class="timer-ul">
            <li class="timer">What did you accomplish yesterday?</li>
            <li class="timer">What is the plan for today?</li>
            <li class="timer">Are you dealing with any blockers?</li>
            </ul>
          </div>
        </div>
        
        <div style="padding:20px">
          <button onclick="on()">Stand Up!</button>
        </div>
        
        <script>
          let timerOn = false;
        function on() {
            document.getElementById("overlay").style.display = "block";
              if(!timerOn) {
                standupTimer();
                timerOn = true;
              }
        }
        
        function off() {
            document.getElementById("overlay").style.display = "none";

        }

        // Set the date we're counting down to
standupTimer = ()  => { 
  var countDownDate = new Date(Date.now() + 8*60000);
  var x = setInterval(function() {
  var now = new Date().getTime();
  var distance = countDownDate - now;

  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  document.getElementById("demo").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text 
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("demo").innerHTML = "Back to work!";
  }
}, 1000);
}
        </script>
        </body>
</html>